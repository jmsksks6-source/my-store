<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Elite Store Pro | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    
    <style>
        :root { --primary: #007bff; --success: #28a745; --danger: #dc3545; --light: #f8f9fa; --dark: #121212; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--light); color: #333; }
        
        .screen { display: none; padding: 15px; }
        .active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        header { background: white; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); position: sticky; top:0; z-index:100; }
        .cart-icon { position: relative; cursor: pointer; font-size: 24px; }
        .badge { position: absolute; top: -5px; right: -10px; background: var(--danger); color: white; font-size: 11px; padding: 2px 6px; border-radius: 50%; }

        .cats-wrapper { display: flex; gap: 10px; overflow-x: auto; padding: 10px 0; scrollbar-width: none; }
        .cat-card { background: white; padding: 8px 15px; border-radius: 20px; border: 1px solid #ddd; cursor: pointer; white-space: nowrap; font-size: 14px; }
        .cat-card.active-cat { background: var(--primary); color: white; border-color: var(--primary); }

        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 15px; margin-top: 15px; }
        .product { background: white; border-radius: 15px; padding: 12px; border: 1px solid #eee; transition: 0.3s; position: relative; text-align: center; }
        .product img { width: 100%; height: 160px; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }
        .out-of-stock { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.7); display: flex; align-items: center; justify-content: center; font-weight: bold; color: red; border-radius: 15px; z-index: 2; }

        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 1000; align-items: center; justify-content: center; backdrop-filter: blur(5px); }
        .modal-content { background: white; width: 90%; max-width: 450px; padding: 20px; border-radius: 20px; max-height: 85vh; overflow-y: auto; }
        
        input, select, textarea { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 10px; box-sizing: border-box; font-size: 16px; }
        .btn { border: none; padding: 12px; border-radius: 10px; cursor: pointer; font-weight: bold; width: 100%; transition: 0.2s; margin-top: 8px; }
        .btn-p { background: var(--primary); color: white; }
        .btn-s { background: var(--success); color: white; }
        .btn:disabled { background: #ccc; cursor: not-allowed; }
        
        .cart-item { display: flex; gap: 10px; align-items: center; border-bottom: 1px solid #eee; padding: 10px 0; }
        .qty-box { display: flex; align-items: center; gap: 8px; }
        .qty-btn { width: 28px; height: 28px; border-radius: 5px; border: 1px solid #ccc; background: white; }
    </style>
</head>
<body>

<div id="auth-screen" class="screen active">
    <div style="text-align: center; margin-top: 50px;">
        <h1 style="color:var(--primary); letter-spacing: 2px;">ELITE STORE</h1>
        <div style="width: 85%; max-width: 350px; margin: auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
            <p style="color:#666;">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø±Ù†Ø§</p>
            <input type="text" id="user-name" placeholder="Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
            <input type="password" id="user-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
            <button class="btn btn-p" onclick="register()">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ØªØ¬Ø±</button>
        </div>
    </div>
</div>

<div id="app" class="screen">
    <header>
        <b onclick="showScreen('home')" style="cursor:pointer; font-size: 20px;">ELITE</b>
        <div style="display:flex; gap:18px; align-items:center;">
            <span onclick="showScreen('orders')" style="cursor:pointer; font-size: 18px;">ğŸ“‹</span>
            <div class="cart-icon" onclick="openCart()">ğŸ›’ <span class="badge" id="cart-count">0</span></div>
            <span id="admin-tag" onclick="showScreen('admin')" style="display:none; color:var(--primary); cursor:pointer; font-weight:bold;">âš™ï¸</span>
        </div>
    </header>

    <div id="home-screen" class="screen active">
        <div class="cats-wrapper">
            <div class="cat-card active-cat" onclick="filterBy('Ø§Ù„ÙƒÙ„', event)">Ø§Ù„ÙƒÙ„</div>
            <div class="cat-card" onclick="filterBy('Ø³Ø§Ø¹Ø§Øª', event)">Ø³Ø§Ø¹Ø§Øª</div>
            <div class="cat-card" onclick="filterBy('Ù…Ù„Ø§Ø¨Ø³', event)">Ù…Ù„Ø§Ø¨Ø³</div>
            <div class="cat-card" onclick="filterBy('Ø£Ø­Ø°ÙŠØ©', event)">Ø£Ø­Ø°ÙŠØ©</div>
            <div class="cat-card" onclick="filterBy('Ø¹Ø·ÙˆØ±', event)">Ø¹Ø·ÙˆØ±</div>
        </div>
        <div class="grid" id="products-grid"></div>
    </div>

    <div id="orders-screen" class="screen">
        <h3>Ø·Ù„Ø¨Ø§ØªÙŠ</h3>
        <p style="font-size: 12px; color: #666;">ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹ØªÙŠÙ† ÙÙ‚Ø· Ù…Ù† ÙˆÙ‚Øª Ø§Ù„Ø·Ù„Ø¨.</p>
        <div id="my-orders-list"></div>
    </div>

    <div id="admin-screen" class="screen">
        <div style="background:white; padding:15px; border-radius:15px; border:1px solid #ddd;">
            <h4>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬</h4>
            <input type="text" id="adm-title" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            <input type="number" id="adm-price" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ù…Ø«Ø§Ù„: 25000)">
            <input type="text" id="adm-img" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
            <input type="text" id="adm-colors" placeholder="Ø§Ù„Ø£Ù„ÙˆØ§Ù† (ÙØµÙ„ Ø¨ÙØ§ØµÙ„Ø©)">
            <input type="text" id="adm-sizes" placeholder="Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª (ÙØµÙ„ Ø¨ÙØ§ØµÙ„Ø©)">
            <button class="btn btn-p" onclick="adminAddProduct()">Ù†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬</button>
        </div>
        <div id="admin-data" style="margin-top: 20px;"></div>
    </div>
</div>

<div id="product-options-modal" class="modal">
    <div class="modal-content">
        <h3 id="opt-title"></h3>
        <label>Ø§Ù„Ù„ÙˆÙ†:</label>
        <select id="opt-color"></select>
        <div id="size-area">
            <label>Ø§Ù„Ù‚ÙŠØ§Ø³:</label>
            <select id="opt-size"></select>
        </div>
        <button class="btn btn-p" onclick="confirmAddToCart()">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
        <button class="btn" style="background:none" onclick="closeModals()">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
</div>

<div id="cart-modal" class="modal">
    <div class="modal-content">
        <h3>ğŸ›’ Ø§Ù„Ø³Ù„Ø©</h3>
        <div id="cart-items"></div>
        <div style="background:#f9f9f9; padding:15px; border-radius:10px; margin-top:15px;">
            <div style="display:flex; justify-content: space-between;"><span>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:</span> <span id="sub-total">0</span> Ø¯.Ø¹</div>
            <div style="display:flex; justify-content: space-between;"><span>Ø§Ù„ØªÙˆØµÙŠÙ„:</span> <span>5,000 Ø¯.Ø¹</span></div>
            <hr>
            <div style="display:flex; justify-content: space-between; font-weight:bold; color:var(--success);"><span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span> <span id="main-total">0</span> Ø¯.Ø¹</div>
        </div>
        <button class="btn btn-p" onclick="openCheckout()">Ø§Ù„ØªØ§Ù„ÙŠ: Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„</button>
        <button class="btn" style="background:none" onclick="closeModals()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<div id="checkout-modal" class="modal">
    <div class="modal-content">
        <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
        <input type="text" id="f-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
        <select id="f-city">
            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©...</option>
            <option>Ø¨ØºØ¯Ø§Ø¯</option><option>Ø§Ù„Ø¨ØµØ±Ø©</option><option>Ù†ÙŠÙ†ÙˆÙ‰</option><option>Ø£Ø±Ø¨ÙŠÙ„</option><option>Ø§Ù„Ù†Ø¬Ù</option>
            <option>ÙƒØ±Ø¨Ù„Ø§Ø¡</option><option>Ø°ÙŠ Ù‚Ø§Ø±</option><option>ÙƒØ±ÙƒÙˆÙƒ</option><option>Ø§Ù„Ø£Ù†Ø¨Ø§Ø±</option><option>Ø¨Ø§Ø¨Ù„</option>
            <option>Ø¯ÙŠØ§Ù„Ù‰</option><option>Ù…ÙŠØ³Ø§Ù†</option><option>Ø§Ù„Ø¯ÙŠÙˆØ§Ù†ÙŠØ©</option><option>ØµÙ„Ø§Ø­ Ø§Ù„Ø¯ÙŠÙ†</option><option>Ø¯Ù‡ÙˆÙƒ</option>
            <option>Ø§Ù„Ø³Ù„ÙŠÙ…Ø§Ù†ÙŠØ©</option><option>ÙˆØ§Ø³Ø·</option><option>Ø§Ù„Ù…Ø«Ù†Ù‰</option>
        </select>
        <input type="text" id="f-area" placeholder="Ø§Ù„Ù…Ù†Ø·Ù‚Ø© / Ø§Ù„Ø¹Ù†ÙˆØ§Ù†">
        <textarea id="f-note" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©ØŸ"></textarea>
        
        <button class="btn btn-s" id="final-btn" onclick="finishOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ø§Ù„Ø¬ÙŠÙ…ÙŠÙ„ âœ…</button>
        <button class="btn" style="background:none" onclick="closeModals()">ØªØ±Ø§Ø¬Ø¹</button>
    </div>
</div>

<script>
    // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù…Ù† ØµÙˆØ±Ùƒ
    emailjs.init("YXDPYRNxazZ45eYWS");

    let db = {
        user: JSON.parse(localStorage.getItem('user_elite')) || null,
        products: JSON.parse(localStorage.getItem('products_elite')) || [
            {id:1, title:"Ø³Ø§Ø¹Ø© Ultra G9", price:35000, cat:"Ø³Ø§Ø¹Ø§Øª", img:"https://images.unsplash.com/photo-1544117518-2b46abc89a69?w=400", status:"a", colors:"ÙØ¶ÙŠ,Ø£Ø³ÙˆØ¯", sizes:""},
            {id:2, title:"ØªÙŠØ´ÙŠØ±Øª Ù‡ÙˆØ¯ÙŠ", price:25000, cat:"Ù…Ù„Ø§Ø¨Ø³", img:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400", status:"a", colors:"Ø±ØµØ§ØµÙŠ,Ø£Ø¨ÙŠØ¶", sizes:"M,L,XL"}
        ],
        orders: JSON.parse(localStorage.getItem('orders_elite')) || []
    };
    let cart = [];
    let tempProduct = null;

    function register() {
        const name = document.getElementById('user-name').value;
        if(!name) return alert("Ø§Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ");
        db.user = { name: name, role: name.toLowerCase() === 'admin' ? 'admin' : 'user' };
        localStorage.setItem('user_elite', JSON.stringify(db.user));
        initApp();
    }

    function initApp() {
        if(!db.user) return;
        document.getElementById('auth-screen').classList.remove('active');
        document.getElementById('app').classList.add('active');
        if(db.user.role === 'admin') document.getElementById('admin-tag').style.display = 'inline';
        renderProducts();
    }

    function renderProducts(filter = 'Ø§Ù„ÙƒÙ„') {
        const grid = document.getElementById('products-grid');
        grid.innerHTML = '';
        db.products.filter(p => filter === 'Ø§Ù„ÙƒÙ„' || p.cat === filter).forEach(p => {
            grid.innerHTML += `
                <div class="product">
                    ${p.status !== 'a' ? '<div class="out-of-stock">Ù†Ø§ÙØ°</div>' : ''}
                    <img src="${p.img}">
                    <div style="font-weight:bold; height:40px; overflow:hidden;">${p.title}</div>
                    <div style="color:var(--danger); font-weight:bold; margin:5px 0;">${p.price.toLocaleString()} Ø¯.Ø¹</div>
                    <button class="btn btn-p" onclick="openOptions(${p.id})">Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
                </div>`;
        });
    }

    function filterBy(cat, e) {
        document.querySelectorAll('.cat-card').forEach(c => c.classList.remove('active-cat'));
        e.target.classList.add('active-cat');
        renderProducts(cat);
    }

    function openOptions(id) {
        tempProduct = db.products.find(p => p.id === id);
        if(tempProduct.status !== 'a') return alert("Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹");
        document.getElementById('product-options-modal').style.display = 'flex';
        document.getElementById('opt-title').innerText = tempProduct.title;
        document.getElementById('opt-color').innerHTML = tempProduct.colors.split(',').map(c => `<option>${c.trim()}</option>`).join('');
        
        const sizeArea = document.getElementById('size-area');
        if(tempProduct.sizes) {
            sizeArea.style.display = 'block';
            document.getElementById('opt-size').innerHTML = tempProduct.sizes.split(',').map(s => `<option>${s.trim()}</option>`).join('');
        } else {
            sizeArea.style.display = 'none';
        }
    }

    function confirmAddToCart() {
        cart.push({
            ...tempProduct,
            choiceColor: document.getElementById('opt-color').value,
            choiceSize: document.getElementById('opt-size').value || '---',
            qty: 1,
            cartId: Date.now()
        });
        updateCartCount();
        closeModals();
    }

    function updateCartCount() {
        document.getElementById('cart-count').innerText = cart.length;
    }

    function openCart() {
        if(cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©");
        document.getElementById('cart-modal').style.display = 'flex';
        renderCart();
    }

    function renderCart() {
        const list = document.getElementById('cart-items');
        list.innerHTML = cart.map(i => `
            <div class="cart-item">
                <div style="flex:1"><b>${i.title}</b><br><small>${i.choiceColor} | ${i.choiceSize}</small></div>
                <div style="color:red; cursor:pointer" onclick="deleteFromCart(${i.cartId})">ğŸ—‘ï¸</div>
            </div>`).join('');
        const sub = cart.reduce((s,i) => s + i.price, 0);
        document.getElementById('sub-total').innerText = sub.toLocaleString();
        document.getElementById('main-total').innerText = (sub + 5000).toLocaleString();
    }

    function deleteFromCart(cid) {
        cart = cart.filter(i => i.cartId !== cid);
        if(cart.length === 0) closeModals(); else renderCart();
        updateCartCount();
    }

    function openCheckout() {
        document.getElementById('cart-modal').style.display = 'none';
        document.getElementById('checkout-modal').style.display = 'flex';
    }

    function finishOrder() {
        const phone = document.getElementById('f-phone').value;
        const city = document.getElementById('f-city').value;
        if(!phone || !city) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù‡Ø§ØªÙ ÙˆØ§Ù„Ù…Ø­Ø§ÙØ¸Ø©");

        const btn = document.getElementById('final-btn');
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
        btn.disabled = true;

        let itemsInfo = cart.map(i => `- ${i.title} (${i.choiceColor}/${i.choiceSize})`).join('\n');
        let total = cart.reduce((s,i) => s + i.price, 0) + 5000;

        const templateParams = {
            from_name: db.user.name,
            phone: phone,
            address: `${city} - ${document.getElementById('f-area').value}`,
            message: `Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª:\n${itemsInfo}\n\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: ${total.toLocaleString()} Ø¯.Ø¹\nÙ…Ù„Ø§Ø­Ø¸Ø§Øª: ${document.getElementById('f-note').value}`,
            title: "Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±"
        };

        emailjs.send("service_ga7ytjo", "template_lgvpsns", templateParams)
        .then(() => {
            alert("âœ… Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ…! ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ÙƒÙ… Ø¨Ù†Ø¬Ø§Ø­.");
            db.orders.push({id: Date.now(), user: db.user.name, total: total, time: Date.now(), items: [...cart]});
            localStorage.setItem('orders_elite', JSON.stringify(db.orders));
            cart = []; updateCartCount(); location.reload();
        }, (err) => {
            alert("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹");
            btn.disabled = false;
            btn.innerText = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ âœ…";
        });
    }

    function showScreen(scr) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(scr + '-screen').classList.add('active');
        if(scr === 'orders') renderMyOrders();
        if(scr === 'admin') renderAdmin();
    }

    function renderMyOrders() {
        const list = document.getElementById('my-orders-list');
        const my = db.orders.filter(o => o.user === db.user.name);
        list.innerHTML = my.reverse().map(o => {
            const canCancel = (Date.now() - o.time) < (2 * 60 * 60 * 1000);
            return `<div style="background:white; padding:15px; margin-bottom:10px; border-radius:12px; border-right: 5px solid var(--primary);">
                    <b>Ø·Ù„Ø¨ Ø±Ù‚Ù… #${o.id.toString().slice(-4)}</b><br>
                    Ø§Ù„Ù…Ø¨Ù„Øº: ${o.total.toLocaleString()} Ø¯.Ø¹<br>
                    ${canCancel ? `<button style="color:red; border:none; background:none; cursor:pointer; padding:0; margin-top:5px;" onclick="cancelOrder(${o.id})">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨</button>` : '<small style="color:green">ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„Ø·Ù„Ø¨</small>'}
                </div>`;
        }).join('') || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹";
    }

    function cancelOrder(id) {
        if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ØŸ")) {
            db.orders = db.orders.filter(o => o.id !== id);
            localStorage.setItem('orders_elite', JSON.stringify(db.orders));
            renderMyOrders();
        }
    }

    function adminAddProduct() {
        const title = document.getElementById('adm-title').value;
        const price = document.getElementById('adm-price').value;
        if(!title || !price) return alert("Ø§ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬");
        db.products.push({
            id: Date.now(),
            title: title,
            price: parseInt(price),
            cat: "Ø§Ù„ÙƒÙ„",
            img: document.getElementById('adm-img').value || 'https://via.placeholder.com/150',
            colors: document.getElementById('adm-colors').value || 'Ø£Ø³Ø§Ø³ÙŠ',
            sizes: document.getElementById('adm-sizes').value || '',
            status: 'a'
        });
        localStorage.setItem('products_elite', JSON.stringify(db.products));
        alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©");
        renderAdmin(); renderProducts();
    }

    function renderAdmin() {
        const list = document.getElementById('admin-data');
        list.innerHTML = `<h4>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</h4>` + db.products.map(p => `
            <div style="display:flex; justify-content:space-between; background:white; padding:8px; margin-bottom:5px; border-radius:8px;">
                <span>${p.title}</span>
                <button onclick="delP(${p.id})" style="color:red; border:none; background:none;">Ø­Ø°Ù</button>
            </div>`).join('');
    }

    function delP(id) {
        db.products = db.products.filter(p => p.id !== id);
        localStorage.setItem('products_elite', JSON.stringify(db.products));
        renderAdmin();
    }

    function closeModals() { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); }
    
    window.onload = initApp;
</script>
</body>
</html>
