<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø© Ø¨Ø±Ùˆ | Ø¯ÙØ¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        :root { --accent: #007bff; --dark: #121212; --light: #f8f9fa; --success: #28a745; --zain: #ffc107; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; background: var(--light); color: #333; }
        
        /* Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
        #loginOverlay { position: fixed; inset: 0; background: white; z-index: 5000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .google-btn { background: white; border: 1px solid #ddd; padding: 12px 25px; border-radius: 8px; cursor: pointer; display: flex; align-items: center; gap: 10px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }

        header { background: white; padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); sticky; top:0; z-index:100; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(170px, 1fr)); gap: 20px; padding: 20px; }
        
        .product-card { background: white; border-radius: 20px; padding: 15px; text-align: center; border: 1px solid #eee; }
        .product-card img { width: 100%; border-radius: 15px; height: 160px; object-fit: cover; }
        
        /* Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ù„Ø¯ÙØ¹ */
        .cart-panel { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.7); z-index:2000; backdrop-filter: blur(5px); justify-content:center; align-items:center; }
        .cart-content { background:white; width:95%; max-width:450px; padding:25px; border-radius:25px; max-height: 90vh; overflow-y: auto; }

        .payment-method { border: 2px solid #eee; border-radius: 12px; padding: 10px; margin: 5px 0; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        .payment-method.active { border-color: var(--accent); background: #f0f7ff; }
        
        input, select { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 10px; }
        .btn-confirm { background: var(--success); color: white; border: none; padding: 15px; width: 100%; border-radius: 12px; font-weight: bold; cursor: pointer; font-size: 1.1rem; }
        
        #adminPanel { display:none; position:fixed; inset:0; background:#f4f7f6; z-index:3000; padding:25px; overflow-y:auto; }
    </style>
</head>
<body>

<div id="loginOverlay">
    <h2 style="color:var(--accent)">ELITE STORE</h2>
    <p>ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚</p>
    <button class="google-btn" onclick="fakeGoogleLogin()">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" width="20">
        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Google
    </button>
</div>

<header>
    <h2 style="margin:0; color:var(--accent);">ELITE STORE</h2>
    <div onclick="openCart()" style="cursor:pointer; font-weight:bold;">ğŸ›’ Ø§Ù„Ø³Ù„Ø© (<span id="count">0</span>)</div>
</header>

<div class="grid" id="products"></div>

<div id="cartModal" class="cart-panel">
    <div class="cart-content">
        <h3>ğŸ›’ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹</h3>
        <div id="cartItems" style="background:#f9f9f9; padding:10px; border-radius:10px; margin-bottom:15px;"></div>
        
        <input type="text" id="cName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
        <input type="tel" id="cPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
        
        <label><b>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</b></label>
        <div class="payment-method active" onclick="setPayment('cod', this)">ğŸ“ Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div>
        <div class="payment-method" onclick="setPayment('zain', this)">ğŸ“± Ø²ÙŠÙ† ÙƒØ§Ø´ (ZainCash)</div>
        <div class="payment-method" onclick="setPayment('asia', this)">ğŸ“² Ø¢Ø³ÙŠØ§ Ø­ÙˆØ§Ù„Ø© (AsiaPay)</div>
        <div class="payment-method" onclick="setPayment('master', this)">ğŸ’³ Ù…Ø§Ø³ØªØ± ÙƒØ§Ø±Ø¯ (Ø§Ù„Ø±Ø§ÙØ¯ÙŠÙ†)</div>

        <div id="paymentDetails" style="display:none; background:#fffbe6; padding:10px; border-radius:10px; border:1px solid #ffe58f; margin-top:10px;">
            <small id="payMsg"></small>
            <input type="text" id="payRef" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©">
        </div>

        <h4 id="totalPrice" style="text-align:center; color:var(--success);"></h4>
        <button class="btn-confirm" onclick="sendOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØ§Ù„Ø¯ÙØ¹ âœ…</button>
        <button onclick="closeCart()" style="width:100%; background:none; border:none; margin-top:10px; color:gray;">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
</div>

<footer style="padding:40px; text-align:center;">
    <button onclick="openAdmin()" style="border:none; background:none; color:gray; text-decoration:underline; cursor:pointer;">Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
</footer>

<div id="adminPanel">
    <div style="display:flex; justify-content:space-between; align-items:center;">
        <h2>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø© ğŸ“Š</h2>
        <button onclick="closeAdmin()">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
    <div id="ordersList"></div>
</div>

<script>
    emailjs.init("YXDPYRNxazZ45eYWS");

    let currentMethod = 'cod';
    const inventory = [
        {id:1, name:"Ø³Ø§Ø¹Ø© Ø§Ù„ØªØ±Ø§ G9", price:35000, img:"https://images.unsplash.com/photo-1544117518-2b46abc89a69?w=400"},
        {id:2, name:"Ø³Ù…Ø§Ø¹Ø© Pro Max", price:25000, img:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400"}
    ];

    let cart = [];

    // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø¬ÙˆØ¬Ù„
    function fakeGoogleLogin() {
        const btn = document.querySelector('.google-btn');
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Google...";
        setTimeout(() => {
            document.getElementById('loginOverlay').style.transition = "0.5s";
            document.getElementById('loginOverlay').style.opacity = "0";
            setTimeout(() => document.getElementById('loginOverlay').remove(), 500);
            renderProducts();
        }, 1500);
    }

    function renderProducts() {
        document.getElementById('products').innerHTML = inventory.map(p => `
            <div class="product-card">
                <img src="${p.img}">
                <h4>${p.name}</h4>
                <p style="color:red; font-weight:bold;">${p.price.toLocaleString()} Ø¯.Ø¹</p>
                <button onclick="addToCart(${p.id})" style="background:var(--accent); color:white; border:none; padding:10px; border-radius:8px; width:100%; cursor:pointer;">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
            </div>
        `).join('');
    }

    function addToCart(id) {
        cart.push(inventory.find(x => x.id === id));
        document.getElementById('count').innerText = cart.length;
    }

    function setPayment(method, element) {
        currentMethod = method;
        document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
        element.classList.add('active');
        
        const details = document.getElementById('paymentDetails');
        const msg = document.getElementById('payMsg');
        
        if(method === 'cod') {
            details.style.display = 'none';
        } else {
            details.style.display = 'block';
            if(method === 'zain') msg.innerText = "ÙŠØ±Ø¬Ù‰ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù…: 07800000000";
            if(method === 'asia') msg.innerText = "ÙŠØ±Ø¬Ù‰ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù…: 07700000000";
            if(method === 'master') msg.innerText = "Ø±Ù‚Ù… Ø§Ù„ÙƒØ§Ø±Øª: 4000 0000 0000 0000 - Ù…ØµØ±Ù Ø§Ù„Ø±Ø§ÙØ¯ÙŠÙ†";
        }
    }

    function openCart() {
        if(cart.length === 0) return alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");
        document.getElementById('cartModal').style.display = 'flex';
        document.getElementById('cartItems').innerHTML = cart.map(i => `<div>- ${i.name}</div>`).join('');
        const total = cart.reduce((s, i) => s + i.price, 0);
        document.getElementById('totalPrice').innerText = `Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${total.toLocaleString()} Ø¯.Ø¹`;
    }

    function sendOrder() {
        const name = document.getElementById('cName').value;
        const phone = document.getElementById('cPhone').value;
        if(!name || !phone) return alert("Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ");

        const total = cart.reduce((s, i) => s + i.price, 0);
        const ref = document.getElementById('payRef').value || "Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…";

        let orders = JSON.parse(localStorage.getItem('demo_orders')) || [];
        orders.push({id: Date.now(), name, phone, method: currentMethod, ref, total, date: new Date().toLocaleString()});
        localStorage.setItem('demo_orders', JSON.stringify(orders));

        alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ ÙˆØ¨Ø§Ù†ØªØ¸Ø§Ø± ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¯ÙØ¹!");
        location.reload();
    }

    function openAdmin() {
        document.getElementById('adminPanel').style.display = 'block';
        const orders = JSON.parse(localStorage.getItem('demo_orders')) || [];
        document.getElementById('ordersList').innerHTML = orders.reverse().map(o => `
            <div style="background:white; margin:10px 0; padding:15px; border-radius:10px; border-right: 5px solid ${o.method === 'cod' ? 'gray' : 'green'}">
                <b>Ø§Ù„Ø²Ø¨ÙˆÙ†: ${o.name}</b><br>
                <span>Ø§Ù„ÙˆØ³ÙŠÙ„Ø©: ${o.method} | Ø§Ù„Ù…Ø±Ø¬Ø¹: ${o.ref}</span><br>
                <span style="color:green; font-weight:bold;">Ø§Ù„Ù…Ø¨Ù„Øº: ${o.total} Ø¯.Ø¹</span>
            </div>
        `).join('') || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª";
    }

    function closeAdmin() { document.getElementById('adminPanel').style.display = 'none'; }
    function closeCart() { document.getElementById('cartModal').style.display = 'none'; }
</script>
</body>
</html>
