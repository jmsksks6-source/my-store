<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø© Ø§Ù„Ø°ÙƒÙŠ</title>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        :root { --main: #2c3e50; --gold: #d4af37; --green: #27ae60; }
        body { font-family: sans-serif; margin: 0; background: #f4f7f6; text-align: center; }
        header { background: var(--main); color: white; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .product-list { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; padding: 20px; }
        .card { background: white; border-radius: 15px; padding: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .card img { width: 100%; border-radius: 10px; height: 180px; object-fit: cover; }
        .price { color: #e74c3c; font-size: 1.2rem; font-weight: bold; margin: 10px 0; }
        .add-btn { background: var(--gold); border: none; padding: 10px; width: 100%; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .cart-btn { position: fixed; bottom: 20px; right: 20px; background: var(--green); color: white; padding: 15px 25px; border-radius: 30px; cursor: pointer; z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        #cart-view { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 200; overflow-y: auto; padding: 20px; box-sizing: border-box; }
        .close-cart { background: #eee; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin-bottom: 20px; }
        input { width: 90%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
        .confirm-btn { background: var(--green); color: white; border: none; padding: 15px; width: 90%; border-radius: 8px; font-size: 1.1rem; cursor: pointer; }
    </style>
</head>
<body>

<header>
    <h1>Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø© Ø§Ù„Ø¹Ø±Ø§Ù‚ÙŠ ğŸ‡®ğŸ‡¶</h1>
    <p>Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø§Ù„Ù…Ø·ÙˆØ±</p>
</header>

<div class="product-list">
    <div class="card">
        <img src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400" alt="Ø³Ø§Ø¹Ø©">
        <h3>Ø³Ø§Ø¹Ø© Ultra G9 Ø§Ù„Ø°ÙƒÙŠØ©</h3>
        <p class="price">25,000 Ø¯ÙŠÙ†Ø§Ø±</p>
        <button class="add-btn" onclick="addToCart('Ø³Ø§Ø¹Ø© Ultra G9', 25000)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
    </div>
    <div class="card">
        <img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400" alt="Ø³Ù…Ø§Ø¹Ø©">
        <h3>Ø³Ù…Ø§Ø¹Ø© Ù„Ø§Ø³Ù„ÙƒÙŠØ© M10</h3>
        <p class="price">15,000 Ø¯ÙŠÙ†Ø§Ø±</p>
        <button class="add-btn" onclick="addToCart('Ø³Ù…Ø§Ø¹Ø© Ù„Ø§Ø³Ù„ÙƒÙŠØ© M10', 15000)">Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© ğŸ›’</button>
    </div>
</div>

<div class="cart-btn" onclick="showCart()">ÙØªØ­ Ø§Ù„Ø³Ù„Ø© (<span id="count">0</span>)</div>

<div id="cart-view">
    <button class="close-cart" onclick="hideCart()">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…ØªØ¬Ø± â†</button>
    <h2>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ</h2>
    <div id="items"></div>
    <h3 id="total">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: 0 Ø¯ÙŠÙ†Ø§Ø±</h3>
    <hr>
    <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØµÙŠÙ„</h3>
    <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„">
    <input type="text" id="addr" placeholder="Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚Ø©">
    <input type="tel" id="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„">
    <button class="confirm-btn" id="sendBtn" onclick="sendOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</div>

<script>
    // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù…Ù† ØµÙˆØ±Ùƒ
    emailjs.init("YXDPYRNxazZ45eYWS"); 

    let cart = [];
    function addToCart(n, p) {
        cart.push({name: n, price: p});
        document.getElementById('count').innerText = cart.length;
        alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© " + n + " Ù„Ù„Ø³Ù„Ø©");
    }

    function showCart() {
        document.getElementById('cart-view').style.display = 'block';
        let html = '';
        let total = 0;
        cart.forEach((item, index) => {
            html += `<p>${item.name} - ${item.price} Ø¯.Ø¹ <button onclick="remove(${index})">Ø­Ø°Ù</button></p>`;
            total += item.price;
        });
        document.getElementById('items').innerHTML = html;
        document.getElementById('total').innerText = "Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: " + total + " Ø¯ÙŠÙ†Ø§Ø±";
    }

    function remove(i) { cart.splice(i, 1); showCart(); document.getElementById('count').innerText = cart.length; }
    function hideCart() { document.getElementById('cart-view').style.display = 'none'; }

    function sendOrder() {
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const addr = document.getElementById('addr').value;
        const btn = document.getElementById('sendBtn');

        if(!name || !phone || cart.length === 0) { alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹"); return; }

        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";
        btn.disabled = true;

        const orderText = cart.map(i => i.name).join(", ");
        
        const params = {
            to_name: "Ø§Ù„ØªØ§Ø¬Ø±",
            from_name: name,
            phone: phone,
            address: addr,
            message: "Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: " + orderText + " | Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: " + document.getElementById('total').innerText
        };

        emailjs.send('service_ga7ytjo', 'template_lgvpsns', params)
            .then(() => {
                alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ù‚Ø±ÙŠØ¨Ø§Ù‹.");
                cart = [];
                document.getElementById('count').innerText = "0";
                hideCart();
                btn.innerText = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                btn.disabled = false;
            }, (err) => { 
                alert("ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª");
                btn.innerText = "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¡ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
                btn.disabled = false;
            });
    }
</script>
</body>
</html>
